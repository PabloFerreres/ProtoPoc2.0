{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ferreres\\\\PycharmProjects\\\\ProtoPoC\\\\frontend\\\\src\\\\AgGridTable.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/styles/ag-grid.css\";\nimport \"ag-grid-community/styles/ag-theme-alpine.css\";\nimport \"./AgGridColors.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AgGridTable = () => {\n  _s();\n  const [projects, setProjects] = useState([]);\n  const [selected, setSelected] = useState(\"\");\n  const [rowData, setRowData] = useState([]);\n  const [columnDefs, setColumnDefs] = useState([]);\n  const gridRef = useRef();\n  useEffect(() => {\n    axios.get(\"http://localhost:8000/projects\").then(res => setProjects(res.data));\n  }, []);\n  useEffect(() => {\n    if (selected) {\n      axios.get(`http://localhost:8000/project/${selected}`).then(res => {\n        const data = res.data;\n        setRowData(data);\n        if (data.length > 0) {\n          const keys = Object.keys(data[0]);\n          const editableFields = [\"Bauteil\", \"Beschreibung\", \"Revision\"];\n          setColumnDefs(keys.map(key => ({\n            field: key,\n            headerClass: `header-${key.replace(/ /g, \"_\")}`,\n            editable: editableFields.includes(key)\n          })));\n        }\n      });\n    }\n  }, [selected]);\n  const handleSave = () => {\n    if (!gridRef.current) return;\n    const updatedRows = gridRef.current.api.getDisplayedRowCount();\n    for (let i = 0; i < updatedRows; i++) {\n      const rowNode = gridRef.current.api.getDisplayedRowAtIndex(i);\n      const data = rowNode.data;\n      axios.post(\"http://localhost:8000/update_row\", data).then(res => {\n        console.log(\"Gespeichert:\", res.data);\n      });\n    }\n    alert(\"Ã„nderungen gespeichert.\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Projekt ausw\\xE4hlen\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => setSelected(e.target.value),\n      value: selected,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"-- w\\xE4hlen --\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), projects.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: p,\n        children: p\n      }, p, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ag-theme-alpine\",\n      style: {\n        height: 600,\n        marginTop: 20\n      },\n      children: /*#__PURE__*/_jsxDEV(AgGridReact, {\n        ref: gridRef,\n        rowData: rowData,\n        columnDefs: columnDefs,\n        defaultColDef: {\n          resizable: true,\n          sortable: true\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSave,\n      style: {\n        marginTop: 16\n      },\n      children: \"\\uD83D\\uDCBE \\xC4nderungen speichern\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(AgGridTable, \"yTIS4wDngZj+9PxMp8YGUbvPk3A=\");\n_c = AgGridTable;\nexport default AgGridTable;\nvar _c;\n$RefreshReg$(_c, \"AgGridTable\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","AgGridReact","jsxDEV","_jsxDEV","AgGridTable","_s","projects","setProjects","selected","setSelected","rowData","setRowData","columnDefs","setColumnDefs","gridRef","get","then","res","data","length","keys","Object","editableFields","map","key","field","headerClass","replace","editable","includes","handleSave","current","updatedRows","api","getDisplayedRowCount","i","rowNode","getDisplayedRowAtIndex","post","console","log","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","value","p","className","style","height","marginTop","ref","defaultColDef","resizable","sortable","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ferreres/PycharmProjects/ProtoPoC/frontend/src/AgGridTable.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/styles/ag-grid.css\";\nimport \"ag-grid-community/styles/ag-theme-alpine.css\";\nimport \"./AgGridColors.css\";\n\nconst AgGridTable = () => {\n  const [projects, setProjects] = useState([]);\n  const [selected, setSelected] = useState(\"\");\n  const [rowData, setRowData] = useState([]);\n  const [columnDefs, setColumnDefs] = useState([]);\n  const gridRef = useRef();\n\n  useEffect(() => {\n    axios.get(\"http://localhost:8000/projects\").then((res) => setProjects(res.data));\n  }, []);\n\n  useEffect(() => {\n    if (selected) {\n      axios.get(`http://localhost:8000/project/${selected}`).then((res) => {\n        const data = res.data;\n        setRowData(data);\n        if (data.length > 0) {\n          const keys = Object.keys(data[0]);\n          const editableFields = [\"Bauteil\", \"Beschreibung\", \"Revision\"];\n          setColumnDefs(\n            keys.map((key) => ({\n              field: key,\n              headerClass: `header-${key.replace(/ /g, \"_\")}`,\n              editable: editableFields.includes(key)\n            }))\n          );\n        }\n      });\n    }\n  }, [selected]);\n\n  const handleSave = () => {\n    if (!gridRef.current) return;\n    const updatedRows = gridRef.current.api.getDisplayedRowCount();\n    for (let i = 0; i < updatedRows; i++) {\n      const rowNode = gridRef.current.api.getDisplayedRowAtIndex(i);\n      const data = rowNode.data;\n      axios.post(\"http://localhost:8000/update_row\", data).then((res) => {\n        console.log(\"Gespeichert:\", res.data);\n      });\n    }\n    alert(\"Ã„nderungen gespeichert.\");\n  };\n\n  return (\n    <div>\n      <h2>Projekt auswÃ¤hlen</h2>\n      <select onChange={(e) => setSelected(e.target.value)} value={selected}>\n        <option value=\"\">-- wÃ¤hlen --</option>\n        {projects.map((p) => (\n          <option key={p} value={p}>{p}</option>\n        ))}\n      </select>\n      <div className=\"ag-theme-alpine\" style={{ height: 600, marginTop: 20 }}>\n        <AgGridReact\n          ref={gridRef}\n          rowData={rowData}\n          columnDefs={columnDefs}\n          defaultColDef={{ resizable: true, sortable: true }}\n        />\n      </div>\n      <button onClick={handleSave} style={{ marginTop: 16 }}>ðŸ’¾ Ã„nderungen speichern</button>\n    </div>\n  );\n};\n\nexport default AgGridTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}